.wiggly-rig_btn {
  position: relative;
  display: inline-block;
  padding: 0;
  border: none;
  background: transparent;
  cursor: pointer;
  outline-offset: 4px;
  /* make it feel clickable without shifting layout */
  transform-origin: 50% 85%;
}

.wiggly-rig_svg {
  width: 100%;
  height: 100%;
  display: block;
}

/* Idle wiggle (very subtle) */
@keyframes wr-wiggle {
  0% {
    transform: rotate(-0.4deg) translateY(0px);
  }
  50% {
    transform: rotate(0.4deg) translateY(-0.4px);
  }
  100% {
    transform: rotate(-0.4deg) translateY(0px);
  }
}

.wr_idle .wiggly-rig_svg {
  animation: wr-wiggle 1.8s ease-in-out infinite;
  will-change: transform;
}

/* Short rumble on eruption */
@keyframes wr-rumble {
  0% {
    transform: translateX(0) rotate(0deg);
  }
  20% {
    transform: translateX(-0.7px) rotate(-0.5deg);
  }
  40% {
    transform: translateX(0.5px) rotate(0.6deg);
  }
  60% {
    transform: translateX(-0.5px) rotate(-0.4deg);
  }
  80% {
    transform: translateX(0.7px) rotate(0.3deg);
  }
  100% {
    transform: translateX(0) rotate(0deg);
  }
}
.wr_rumble {
  animation: wr-rumble 280ms ease-in-out;
}

/* Oil plume (one-shot scale/alpha pop) */
@keyframes wr-plume {
  0% {
    transform: translate(var(--x, 0), var(--y, 0)) scale(0.5);
    opacity: 0;
  }
  25% {
    transform: translate(var(--x, 0), calc(var(--y, 0) - 6px)) scale(1.1);
    opacity: 1;
  }
  100% {
    transform: translate(var(--x, 0), calc(var(--y, 0) - 18px)) scale(0.9);
    opacity: 0;
  }
}
.wr_plume {
  transform-origin: center;
  opacity: 0;
}
.wr_plume--active {
  opacity: 1;
  animation: wr-plume 520ms cubic-bezier(0.22, 0.61, 0.36, 1);
}

/* Droplets container overlays the SVG using same 160x160 pixel space */
.wr_droplets {
  position: absolute;
  inset: 0;
  pointer-events: none;
}

/* previous styling for Individual droplet */
/* .wr_drop {
  --dx: 0px;
  --dy: -100px;
  --dur: 900ms;
  --delay: 0ms;
  --sz: 4px;
  --oil: #0b0b0b;

  position: absolute;
  width: var(--sz);
  height: var(--sz);
  background: linear-gradient(145deg, #ffd700 0%, #ffbf00 40%, #ffec8b 100%);
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.8);
  border-radius: 999px;
  opacity: 0;
  transform: translate(0, 0) scale(1);

  animation: wr-drop-launch var(--dur) cubic-bezier(0.2, 0.7, 0, 1) var(--delay)
      forwards,
    wr-drop-fade calc(var(--dur) * 0.85) linear var(--delay) forwards;
  will-change: transform, opacity;
}
*/

/*Individual droplet */
/* Gold shimmer gradient with animated highlight */
.wr_drop {
  --oil: #ffd700;
  position: absolute;
  width: var(--sz, 4px);
  height: var(--sz, 4px);
  border-radius: 50%;
  background: radial-gradient(
    circle at 30% 30%,
    #fff8dc 0%,
    #ffd700 40%,
    #ffbf00 70%,
    #b8860b 100%
  );
  box-shadow: 0 0 6px rgba(255, 215, 0, 0.6);
  opacity: 0;
  transform: translate(0, 0) scale(1);
  animation: wr-drop-launch var(--dur, 900ms) cubic-bezier(0.2, 0.7, 0, 1)
      var(--delay, 0ms) forwards,
    wr-drop-fade calc(var(--dur, 900ms) * 0.85) linear var(--delay, 0ms)
      forwards,
    wr-drop-glint 1s ease-in-out infinite;
}

/* Glint highlight sweeps diagonally */
@keyframes wr-drop-glint {
  0%,
  100% {
    background-position: 30% 30%;
  }
  50% {
    background-position: 70% 70%;
  }
}

/* Upward throw (to final dx,dy), with a slight hump mid-flight to hint at arc */
@keyframes wr-drop-launch {
  0% {
    transform: translate(0, 0) scale(1);
  }
  40% {
    transform: translate(calc(var(--dx) * 0.55), calc(var(--dy) * 0.65))
      scale(0.95);
  }
  100% {
    transform: translate(var(--dx), var(--dy)) scale(0.9);
  }
}
@keyframes wr-drop-fade {
  0% {
    opacity: 0;
  }
  10% {
    opacity: 1;
  }
  100% {
    opacity: 0;
  }
}

/* Respect prefers-reduced-motion: no idle wiggle or rumble; click still shows a quick fade */
@media (prefers-reduced-motion: reduce) {
  .wr_idle .wiggly-rig_svg {
    animation: none;
  }
  .wr_rumble {
    animation: none;
  }
  .wr_plume--active {
    animation-duration: 260ms;
  }
  .wr_drop {
    animation: wr-drop-fade 260ms linear var(--delay) forwards;
  }
}

/* DEBUG: force droplets visible to verify CSS is mounted */
/* .wiggly-rig_btn.debug .wr_drop {
  opacity: 1 !important;
  animation: none !important;
  transform: translate(var(--dx), var(--dy)) scale(1) !important;
  outline: 1px dashed hotpink;
} */
